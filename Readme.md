# Capstone Idea

## Intro
In this project, weâ€™d like to develop an agent that could help users generate customized privacy policies for their products/webs/apps following specific Data Protection Regulations.

## Methods
### Stage 1
#### Main Task
1. Collect different data protection regulations, and let **GPT** generate corresponding Privacy Policy templates as **Data Source 1**;
2. For each user input, use GPT to analyze the requirement and match the most suitable template. Then, output a draft privacy policy generated by GPT based on the selected template;
3. Build the chatbot frontend.

#### Parallel Tasks
1. Collect Privacy Policies of those large companies under different regulations as **Data Source 2**;
2. Design the output format.

### Stage 2
#### Main Task
1. Replace GPT with a **Open Source LLM** (Llama 3 70b - Instruct);
2. Try to achieve the same or even better result as Stage 1.

#### Parallel Tasks
1. Collect Privacy Policies of those large companies under different regulations;
2. Further improve the output, by including the reasons for choosing specific templates.

### Stage 3
1. Based on Stage 2, include those privacy policies we collected as few-shot examples:
    - For each user input, use the Open Source LLM to analyze the requirement, and rephrase the requirement to a standard format;
    - Match the most relative existing privacy policies as examples;
    - Select the most suitable template based on the requirement;
    - Providing with the template and examples, let the LLM to generate a customized privacy policy;
2. Presentation.

## Components
### Syllabus Generator:
- input: json (names of regulations)
- realize: 
    1. `SubQuestionQueryEngine` collects regulations
    2. llm generate syllabus for each
    3. llm merges the syllabus to one
- output: json (section name with suggestions)

### Section Generator:
- input: json (section name & templates)
- realize: 
    1. `SubQuestionQueryEngine` collects examples (?)
    2. llm generate sections for each based on examples, input templates, bullet points from regulations
    3. call judge generator
    4. if not pass, call sections modify
- output: json (success, sections)

### Section Modify:
- input: str (generated sections), str (suggestions), str (bullet points from syllabus)
- realize: 
    1. for loop
    2. let llm regenerate
    3. call judge generator
    4. if pass, break; else, continue
- output: json (success, sections)

### Judge Generator:
- input: str (generated section), section name, regulation names
- realize: use law model to judge the sections
- output: json (pass, suggestions)
